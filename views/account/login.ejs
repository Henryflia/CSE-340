<h1><%- title %></h1>
<%- messages() %>
<!-- <% if (errors) { %>
    <ul class="notice">
   <% errors.array().forEach(error => { %>
     <li><%= error.msg %></li>
  <%  }) %>
   </ul>
  <% } %> -->

<div class="form">
    <div class="boxform">
        <form class="login-form" action="/account/login" method="post">
            <label>Email:<input type="email" name="account_email" required autocomplete="email username" value="<%= locals.account_email %>"></label>
            <label>Password:<input type="password" name="account_password" id="password" required autocomplete="current-password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"><button class="reveal-button active" id="passwordHide" type="button">hide password</button></label>
            <small>
                Must be at least 12 characters, contain a capital letter, a number, and a special character.
            </small>
            <input type="submit" value="LOGIN">
        </form>
        <div>
            <span>No account? <a href="/account/register">Sign up</a></span>
        </div>
    </div>
</div>


<script>
    const pswBtn = document.querySelector("#passwordHide");
    pswBtn.addEventListener("click", function() {
      const pswdInput = document.getElementById("password");
      const type = pswdInput.getAttribute("type");
      if (type == "password") {
        pswdInput.setAttribute("type", "text");
        pswBtn.innerHTML = "Hide Password"
      }
      else{
        pswdInput.setAttribute("type", "password");
        pswBtn.innerHTML = "Show Password"
      }
    })
  </script>